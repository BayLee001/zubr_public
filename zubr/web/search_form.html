
<html>
<head>
<meta charset="UTF-8">
<title>Code-oogle API Search</title>
<script type="text/javascript" language="javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.0.0/prototype.js"></script>
<script type="text/javascript" language="javascript">
function runquery () {
    var query_text = $("querytypein").value;
    var action_chooser = $("ach");
    var action = action_chooser.options[action_chooser.selectedIndex].value;
    var newoption = document.createElement("option");
    newoption.text = query_text;
    var request = new Ajax.Request('/query?debug=true&query=' + encodeURIComponent(query_text) + '&actionchooser=' + encodeURIComponent(action), {
        method: 'get',
        onSuccess: function(response) {
            $("queryresult").innerHTML = response.responseText;
            $("queryresult").style.visibility = "visible";
            $("querytypein").value = "";
            chooser.options[0].text = "(select a previously-issued query)";             
        },
        onFailure: function(response) {
            alert("server returned error " + response.responseText + " for query " + query_text);
        },
     });
    return false;
}
function hideresults () {
    $("queryresult").style.visibility = "hidden";
}
function selectthis (v) {
    // put this query in the textarea
    // var chooser = $("historychooser");
    var choice = chooser.options[chooser.selectedIndex].text;
    if (choice.charAt(0) == "(") {
        $("querytypein").value = "";
        chooser.options[0].text = "(select a previously-issued query)";
    } else {
        $("querytypein").value = choice;
        chooser.options[0].text = "(clear the query type-in window)";
    }
}
</script>
<style>
body {
    color: #2F4F4F;
    text-color:  #2F4F4F;
    background-color: #FFFFFF;
    font-family: Arial;
    }
div#queryresult {
    color: #2F4F4F;
    background-color: lightyellow;
    width: 100%%;
    min-height: 100px;
    white-space: pre;
    visibility: hidden;
    margin : 0 auto 0 auto;
    }
textarea#querytypein {
    color: #2F4F4F;
    vertical-align: middle;
    text-align: center;
    width: 50%;
    }
</style>
</head>
<body>
<form method=GET action="/query" id="queryform" onSubmit="return runquery()">
<table width="100%%">
<tr><td colspan=3 width="40%%" align=center><h1>Code-oogle API Search</h1></td></tr>
</table>
<p align=center>
<textarea name="query" value="" id="querytypein" placeholder="(search for a function in an API documentation collection)" rows=2 cols=100 onkeypress="hideresults();">
</textarea>
<br>
"""

PAGE_2 = """<input type=submit name="submit" value="Search"> 
</form>
</form>
<div id="queryresult">
</div>
"""

HELP = """<table width="100%%">
<tr><td colspan=3 width="40%%" align=center>About</td></tr>
</table>
</body>
</html>
